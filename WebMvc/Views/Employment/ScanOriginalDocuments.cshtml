@model Reports.Presenters.UI.ViewModel.Employment2.ScanOriginalDocumentsModel
@using Reports.Presenters.Services.Impl
@using Reports.Core
@{
    var dto = UserDto.Deserialize(((FormsIdentity)(HttpContext.Current.User.Identity)).Ticket.UserData);
    if ((dto.UserRole & UserRole.Candidate) > 0)
    {
        Layout = "~/Views/Shared/_LayoutEmployment.cshtml";
        ViewBag.Title = "Сканы оригиналов документов";
    }
}

@Html.Partial("CandidateState", Model.CandidateStateModel)
<span style="font-size:large;">@Html.ValidationMessageFor(m => m.ErrorMessage)</span>

@using (Html.BeginForm("ScanOriginalDocuments", "Employment", FormMethod.Post, new { enctype = "multipart/form-data", id = "ScanOriginalDocumentsForm" }))
{
    @Html.HiddenFor(m => m.UserId)    
    
    <fieldset class="bordered doc-wrap panel">
        <table class="buttonTable">
            <tr>
                <td rowspan="3">Общая информация</td>
                <td>
                    @Html.LabelFor(m => m.SNILSScanFile)
                    @*<br /><br />
                    <label>Медведев Дмитрий Анатольевич  @DateTime.Now.ToShortDateString()</label>*@
                </td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="SNILSScanFile" /> @Html.ValidationMessageFor(m => m.SNILSScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.SNILSScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.SNILSScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.SNILSScanAttachmentId);" @if (string.IsNullOrEmpty(Model.SNILSScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
                <td rowspan="8">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>


                <td rowspan="2">Состав семьи</td>
                <td>@Html.LabelFor(m => m.MarriageCertificateScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="MarriageCertificateScanFile" /> @Html.ValidationMessageFor(m => m.MarriageCertificateScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.MarriageCertificateScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.MarriageCertificateScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.MarriageCertificateScanAttachmentId);" @if (string.IsNullOrEmpty(Model.MarriageCertificateScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.INNScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="INNScanFile" /> @Html.ValidationMessageFor(m => m.INNScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.INNScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.INNScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.INNScanAttachmentId);" @if (string.IsNullOrEmpty(Model.INNScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>
                </td>


                <td>@Html.LabelFor(m => m.ChildBirthCertificateScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="ChildBirthCertificateScanFile" /> @Html.ValidationMessageFor(m => m.ChildBirthCertificateScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.ChildBirthCertificateScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.ChildBirthCertificateScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.ChildBirthCertificateScanAttachmentId);" @if (string.IsNullOrEmpty(Model.ChildBirthCertificateScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.DisabilityCertificateScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="DisabilityCertificateScanFile" /> @Html.ValidationMessageFor(m => m.DisabilityCertificateScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.DisabilityCertificateScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.DisabilityCertificateScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.DisabilityCertificateScanAttachmentId);" @if (string.IsNullOrEmpty(Model.DisabilityCertificateScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>
                </td>


                <td rowspan="2">Воинский учет</td>
                <td>@Html.LabelFor(m => m.MilitaryCardScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="MilitaryCardScanFile" /> @Html.ValidationMessageFor(m => m.MilitaryCardScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.MilitaryCardScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.MilitaryCardScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.MilitaryCardScanAttachmentId);" @if (string.IsNullOrEmpty(Model.MilitaryCardScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td>Паспортные данные</td>
                <td>@Html.LabelFor(m => m.InternalPassportScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="InternalPassportScanFile" /> @Html.ValidationMessageFor(m => m.InternalPassportScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.InternalPassportScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.InternalPassportScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.InternalPassportScanAttachmentId);" @if (string.IsNullOrEmpty(Model.InternalPassportScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>


                <td>@Html.LabelFor(m => m.MobilizationTicketScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="MobilizationTicketScanFile" /> @Html.ValidationMessageFor(m => m.MobilizationTicketScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.MobilizationTicketScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.MobilizationTicketScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.MobilizationTicketScanAttachmentId);" @if (string.IsNullOrEmpty(Model.MobilizationTicketScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td rowspan="4">Образование</td>
                <td>@Html.LabelFor(m => m.HigherEducationDiplomaScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="HigherEducationDiplomaScanFile" /> @Html.ValidationMessageFor(m => m.HigherEducationDiplomaScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.HigherEducationDiplomaScanId })' style="cursor:hand" target="_blank">
                    @Model.HigherEducationDiplomaScanFileName
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.HigherEducationDiplomaScanId);" @if (string.IsNullOrEmpty(Model.HigherEducationDiplomaScanFileName))
                                                                                        {<text>style="display:none"</text>}/>

                </td>


                <td rowspan="2">Трудовая деятельность</td>
                <td>@Html.LabelFor(m => m.WorkBookScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="WorkBookScanFile" /> @Html.ValidationMessageFor(m => m.WorkBookScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.WorkBookScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.WorkBookScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.WorkBookScanAttachmentId);" @if (string.IsNullOrEmpty(Model.WorkBookScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.PostGraduateEducationDiplomaScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="PostGraduateEducationDiplomaScanFile" /> @Html.ValidationMessageFor(m => m.PostGraduateEducationDiplomaScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.PostGraduateEducationDiplomaScanId })' style="cursor:hand" target="_blank">
                    @Model.PostGraduateEducationDiplomaScanFileName
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.PostGraduateEducationDiplomaScanId);" @if (string.IsNullOrEmpty(Model.PostGraduateEducationDiplomaScanFileName))
                                                                                        {<text>style="display:none"</text>}/>

                </td>

                <td>@Html.LabelFor(m => m.WorkBookSupplementScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="WorkBookSupplementScanFile" /> @Html.ValidationMessageFor(m => m.WorkBookSupplementScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.WorkBookSupplementScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.WorkBookSupplementScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.WorkBookSupplementScanAttachmentId);" @if (string.IsNullOrEmpty(Model.WorkBookSupplementScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.CertificationScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="CertificationScanFile" /> @Html.ValidationMessageFor(m => m.CertificationScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.CertificationScanId })' style="cursor:hand" target="_blank">
                    @Model.CertificationScanFileName
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.CertificationScanId);" @if (string.IsNullOrEmpty(Model.CertificationScanFileName))
                                                                                        {<text>style="display:none"</text>}/>

                </td>

                <td rowspan="2">Департамент безопасности</td>
                <td>@Html.LabelFor(m => m.PersonalDataProcessingScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="PersonalDataProcessingScanFile" /> @Html.ValidationMessageFor(m => m.PersonalDataProcessingScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.PersonalDataProcessingScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.PersonalDataProcessingScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.PersonalDataProcessingScanAttachmentId);" @if (string.IsNullOrEmpty(Model.PersonalDataProcessingScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td>@Html.LabelFor(m => m.TrainingScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="TrainingScanFile" /> @Html.ValidationMessageFor(m => m.TrainingScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.TrainingScanId })' style="cursor:hand" target="_blank">
                    @Model.TrainingScanFileName
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.TrainingScanId);" @if (string.IsNullOrEmpty(Model.TrainingScanFileName))
                                                                                        {<text>style="display:none"</text>}/>

                </td>

                <td>@Html.LabelFor(m => m.InfoValidityScanFile)</td>
                <td>
                    Выбрать скан для загрузки<br /><input type="file" name="InfoValidityScanFile" /> @Html.ValidationMessageFor(m => m.InfoValidityScanFile)

                    <a class="ui-notify-close" href='@Url.Action("ViewAttachment", new { Id = Model.InfoValidityScanAttachmentId })' style="cursor:hand" target="_blank">
                    @Model.InfoValidityScanAttachmentFilename
                    </a>

                    <input type="button" value="Удалить скан" onclick="deleteAttachment(@Model.InfoValidityScanAttachmentId);" @if (string.IsNullOrEmpty(Model.InfoValidityScanAttachmentFilename))
                                                                                        {<text>style="display:none"</text>}/>

                </td>
            </tr>
            <tr>
                <td colspan="7">
                    @Html.EditorFor(m => m.AgreedToPersonalDataProcessing)
                    @Html.LabelFor(m => m.AgreedToPersonalDataProcessing)<br />
                    @Html.ValidationMessageFor(m => m.AgreedToPersonalDataProcessing)
                    <br />
                    @Html.EditorFor(m => m.IsScanFinal)
                    @Html.LabelFor(m => m.IsScanFinal)<br />
                    @Html.ValidationMessageFor(m => m.IsScanFinal)
                </td>
            </tr>
        </table>
        <br />
        <button type="submit">Отправить на согласование</button>
    </fieldset>
    
    
    
                
    
                
    
}

<script type="text/javascript">
    $(document).ready(function () {
        setActiveMenuItem("empScanOriginalDocuments");

        $("#SNILSScanFile").change(function () { this.form.submit(); });
        $("#INNScanFile").change(function () { this.form.submit(); });
        $("#DisabilityCertificateScanFile").change(function () { this.form.submit(); });
        $("#InternalPassportScanFile").change(function () { this.form.submit(); });
        $("#HigherEducationDiplomaScanFile").change(function () { this.form.submit(); });
        $("#PostGraduateEducationDiplomaScanFile").change(function () { this.form.submit(); });
        $("#CertificationScanFile").change(function () { this.form.submit(); });
        $("#TrainingScanFile").change(function () { this.form.submit(); });
        $("#MarriageCertificateScanFile").change(function () { this.form.submit(); });
        $("#ChildBirthCertificateScanFile").change(function () { this.form.submit(); });
        $("#MilitaryCardScanFile").change(function () { this.form.submit(); });
        $("#MobilizationTicketScanFile").change(function () { this.form.submit(); });
        $("#WorkBookScanFile").change(function () { this.form.submit(); });
        $("#WorkBookSupplementScanFile").change(function () { this.form.submit(); });
        $("#PersonalDataProcessingScanFile").change(function () { this.form.submit(); });
        $("#InfoValidityScanFile").change(function () { this.form.submit(); });

        //$(":button").button();
    });
</script>

