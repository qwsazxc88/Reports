@using System.Globalization;
@using Reports.Core.Dto;
@{ 
    int i = 0;
    foreach (var dto in Model)
    {
        //var dtoIdPrefix = "TimesheetDtos[" + @i.ToString() + "].Id";
    <table>
    <tr>
        <td colspan="2">
            <hr style="width:100%"/>
        </td>
    </tr>
@*    <tr>
    </tr>*@
    <tr>
        <td style="width:140px">
           @*<input type="hidden" id="@dtoIdPrefix" name="@dtoIdPrefix" value="@dto.Id" /> *@
           @dto.MonthAndYear <br/>
           @*        </td> class="ui-notify-close" href='@Url.Action("TimesheetEdit",new { id = dto.Id })' style="cursor:hand"
            <td>*@
           @dto.UserNameAndCode
        </td>
        <td style="padding:0px;">        
            <table cellpadding="0px" cellspacing="0px" style="padding:0px;margin:0px;">
                <tr>
                  @{ int j = 0;
                     foreach (TimesheetDayDto day in dto.Days)
                     {
                         var timesheetDayNumberPrefix = "TimesheetDtos["+ @i.ToString()+"].Days[" + @j.ToString() + "].Number";
                         var timesheetDayGraphicPrefix = "TimesheetDtos[" + @i.ToString() + "].Days[" + @j.ToString() + "].Graphic";
                         var timesheetDayGraphicJQueryPrefix = "TimesheetDtos" + @i.ToString() + "Days" + @j.ToString() + "Graphic";
                         
                                   <td style="padding:0px;margin:0px">
                                        <table cellpadding="0px" cellspacing="0px" style="padding:0px;margin:0px">
                                            <tr>
                                                <td @if (day.isHoliday)
                                                    {<text>style="border:1px solid black;padding:0px;width:25px;text-align:center;color:Red"</text>}
                                                    else
                                                    {<text>style="border:1px solid black;padding:0px;width:25px;text-align:center;"</text>}>
                                                    @day.Number
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="border:1px solid black;padding:0px;width:25px;text-align:center;height:15px;">
                                                    @day.Status
                                                </td>
                                            </tr>
                                            @if (dto.IsHoursVisible)
                                            {
                                                <tr>
                                                    <td style="border:1px solid black;padding:0px;width:25px;text-align:center;height:15px;">
                                                    @day.Hours
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td style="border:1px solid black;padding:0px;width:25px;text-align:center;">
                                                         <input type="text" style="width:20px;" id="@timesheetDayGraphicJQueryPrefix" name="@timesheetDayGraphicPrefix"/>
                                                    </td>
                                                </tr>
                                            }
                                        </table >
                                   </td> 
                                            j++;
                     }
                  }
                </tr>
            </table>
        </td>
    </tr>
 </table>
                     i++;
    }
}
